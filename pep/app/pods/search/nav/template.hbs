<Page::Sidebar @side="left" as |Sidebar|>
    <Sidebar.content @scrollableNamespace="sidebar-left">
        <Search::Form
            @smartSearchTerm={{this.currentSmartSearchTerm}}
            @searchTerms={{this.currentSearchTerms}}
            @matchSynonyms={{this.currentMatchSynonyms}}
            @isLimitOpen={{this.isLimitOpen}}
            @citedCount={{this.currentCitedCount}}
            @viewedCount={{this.currentViewedCount}}
            @viewedPeriod={{this.currentViewedPeriod}}
            @submit={{this.submitSearch}}
            @resetForm={{this.clearSearch}}
            @addSearchTerm={{this.addSearchTerm}}
            @removeSearchTerm={{this.removeSearchTerm}}
            @updateSearchTerm={{this.updateSearchTerm}}
            @updateViewedPeriod={{this.updateViewedPeriod}}
            @onSearchTermTextChange={{this.onSearchTextChange}}
            @onSmartSearchTextChange={{this.onSearchTextChange}}
            @onLimitTextChange={{this.onSearchTextChange}}
            @matchSynonymsChange={{this.updateMatchSynonyms}}
            @toggleLimitFields={{this.toggleLimitFields}}
            @resultsCount={{this.paginator.metadata.fullCount}}
            class="mb-2"
        />
        {{#if this.resultsMeta}}
            <Search::Refine
                @metadata={{this.resultsMeta}}
                @selection={{this.currentFacets}}
                @updateSelection={{this.updateSelectedFacets}}
                class={{concat "mb-2" (if this.hasRefineChanges " search-refine-has-changes" "")}}
            />
        {{else}}
            <Page::Sidebar::Widgets::Accolades />
        {{/if}}
    </Sidebar.content>
</Page::Sidebar>

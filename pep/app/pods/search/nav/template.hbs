<Page::Sidebar @side="left" as |Sidebar|>
    <Sidebar.content @scrollableNamespace="sidebar-left">
        <Search::Form
            @smartSearchTerm={{this.currentSmartSearchTerm}}
            @searchTerms={{this.currentSearchTerms}}
            @matchSynonyms={{this.currentMatchSynonyms}}
            @submit={{this.submitSearch}}
            @resetForm={{this.clearSearch}}
            @addSearchTerm={{this.addSearchTerm}}
            @removeSearchTerm={{this.removeSearchTerm}}
            @updateSearchTerm={{this.updateSearchTerm}}
            @onSearchTermTextChange={{this.onSearchTextChange}}
            @onSmartSearchTextChange={{this.onSearchTextChange}}
            @matchSynonymsChange={{this.updateMatchSynonyms}}
            @resultsCount={{this.paginator.metadata.fullCount}}
            class="mb-2"
        />
        {{#if this.resultsMeta}}
            <Search::Refine
                @metadata={{this.resultsMeta}}
                @selection={{this.currentFacets}}
                @updateSelection={{this.updateSelectedFacets}}
                @submitSearch={{this.resubmitSearchWithFacets}}
                class={{concat "mb-2" (if this.hasRefineChanges " search-refine-has-changes" "")}}
            />
        {{else}}
            <Page::Sidebar::Widgets::Accolades />
        {{/if}}
    </Sidebar.content>
    <Search::Refine::Apply
        @hasChanges={{this.hasRefineChanges}}
        @apply={{this.resubmitSearchWithFacets}}
    />
</Page::Sidebar>
